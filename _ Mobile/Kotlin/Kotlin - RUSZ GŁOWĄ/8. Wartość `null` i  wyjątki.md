#kotlin/null


# Jak usuwać ze zmiennych referencje do obiektów?


```kotlin
data class Wolf(var name: String, var age: Int)  
  
fun main() {  
    var w1 = Wolf("Tomy", 23)  
    w1 = Wolf("Nowy", 1)  
    println(w1)  // -> Wolf(name=Nowy, age=1)
    // w1 = null // nie skompiluje się, bo w1 jest typu Wolf i nie może mieć wartości null
  
}
```
> Kiedy kompilator będzie już znał typ zmiennej, zagwarantuje, że będzie w niej można zapisywać wyłącznie referencje do obiektów typu Wolf lub jego typów pochodnych.


## referencje usuwamy, używając `null`
```kotlin
w1 = null
```
> Wartość null oznacza, że zmienna nie odwołuje się do żadnego obiektu: ==taka zmienna wciąż istnieje, ale na nic nie wskazuje==.

>[!success] Referencje `null`
> zawierają bity reprezentujące „null” — wartość pustą, jednak nie wiemy, jak te bity wyglądają, ani nawet nas to nie obchodzi. Wszystkim automatycznie zajmuje się za nas system.
> 
> > Domyślnie TYPY w języku Kotlin NIE POZWALAJĄ na stosowanie wartości `null`.
> > Jeśli chcemy, by zmienna MOGŁA zawierać `null`, musimy JAWNIE ZADEKLAROWAĆ zadeklarować ją jako zmienną akceptującą wartości puste.

>[!fail] typ akcepujący `null`
>Typ akceptujący wartości puste to taki, w którym oprócz wartości danego typu można także zapisywać wartość null. Na przykład w zmiennej typu Duck? można zapisywać obiekty typu Duck oraz null.
>
>Kotlin rejestruje wartości, które mogą zawierać wartości null, i nie pozwala wykonywać na nich nieodpowiednich operacji.

```kotlin
data class Wolf(var name: String, var age: Int)  
  
fun main() {  
    var w1: Wolf? = Wolf("Tomy", 23)  
    w1 = Wolf("Nowy", 1)  
    println(w1)  
    w1 = null  
    println(w1)  
  
}
// zwraca: -->

// Wolf(name=Nowy, age=1)
// null
```


>[!question] Gdzie można używać typów akceptujących `null`?
>Każdy definiowany typ można zmienić na typ, który akceptuje wartości puste — wystarczy za nazwą typu dodać znak zapytania (`?`). Tych typów akceptujących wartości puste można używać w tych samych miejscach, w których są stosowane domyślne typy Kotlina, nieakceptujące wartości pustych - w DEFINICJACH:
>> -  zmiennych i właściwości  `var str: String? = "Pizza"`
>> - parametrów `fun printInt(x: Int?){}`
>> - wartości zwracanej `fun result(): Long? {}` 


## tablica akceptująca `null`
```kotlin
var myArray: Array<String?> = arrayOf("część", "Siema")

// lub 

var myArray = arrayOf("część", "siema", null)
```


## odwołania do typów akceptujących `null`


>[!danger] ważne
>Nie można wywoływać funkcji ani odwoływać się do właściwości wartości `null`, gdyż wartość ta nie ma żadnych właściwości ani funkcji.

### sposoby sprawdzenia czy `null`

#### używając `if`
```kotlin
if (w != null){
	w.eat()
}
```

#### operator bezpiecznego wywołani `?.`
> Operator bezpiecznego wywołania ma postać sekwencji znaku zapytania i kropki (`?.`). Pozwala on na bezpieczny dostęp do funkcji i właściwości typów akceptujących wartość null.

##### podstawowa sytuacja
```kotlin
var w: Wolf? = Wolf()
w?.eat() // metoda `eat` zostanie wywołana wyłącznie, jeśli wartość `w` nędzie różna od `null`

w?.hunger // bezpieczne odwołanie do właściwości `hunger`
```

>[!attention] wyjaśnienie
>>Jeśli zmienna w będzie różna od `null`, to powyższe wyrażenie zwróci referencję do wartości właściwości `hunger`.
>> Jeżeli jednak zmienna w będzie równa `null`, to wyrażenie to zwróci `null`.

##### łańcuch bezpiecznych wywołań `?.`


##### bezpieczne przypisywanie wartości


















