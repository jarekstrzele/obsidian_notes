#udemy  #postgresql  #sql  #billennium 
#avis_jon

# intro PostgreSQL
[[DB/SQL/SQL&PostgreSQL Tutorial/3 - DDL Postgres]]
[[DB/SQL/SQL&PostgreSQL Tutorial/4 - DML Postgres]]
[[DB/SQL/SQL&PostgreSQL Tutorial/5 - SELECT (retrieving data from a table)]]


>[!Definition of database]
> - an organised collection of data
> - gives us a method of accessing and manipulating the data


>[!Relational Databases]
>- data is stored in tables (relations)
>- tables can be 'linked' together
>- allows us to identify data relation to another piece of data in the database


## INSTALLING Postgres on DOCKER
#docker  #postgresql #insall 

https://www.youtube.com/watch?v=iZDbENJrl4I


`docker run --name some-postgres -e POSTGRES_PASSWORD=mysecretpassword -d postgres`

`PGDATA` value by default `/var/lib/postgresql/data`
optional variable, can be used to define another location for the database file


```bash
docker run --name pg -p 5432:5432 -e POSTGRES_PASSWORD=secret -e PGDATA=/pgdata -v $(pwd)/pgdata:/pgdata -d postgres
```

to connect the the psql client from the host to the container
```bash
psql -h localhost -p 5432 -U postgres
```
but first you have to install a postgres on your machine

`select version();` to check the version of the postgres

```bash
postgres=# create table foss(name text, id int generated by default as identity);
CREATE TABLE
postgres=# insert into foss(name) values('PP'), ('luc'), ('DBeaver');
INSERT 0 3
postgres=# select * from foss;
  name   | id
---------+----
 PP      |  1
 luc     |  2
 DBeaver |  3
(3 rows)

postgres=#
```

### to directly connect with container
`docker container exec -it pg bash`

or directly with psql 

```bash
~$ docker container exec -it pg psql -U postgres
psql (14.3 (Debian 14.3-1.pgdg110+1))
Type "help" for help.

postgres=# \dt
        List of relations
 Schema | Name | Type  |  Owner
--------+------+-------+----------
 public | foss | table | postgres
(1 row)

postgres=#
```
`\dt` describe tables

---
## PGADMIN
#postgres/pgadmin
https://www.youtube.com/watch?v=3v5VLS-oWKs

First you have to have a running postgres container
`docker run --name pg -p 5432:5432 -e POSTGRES_PASSWORD=secret -d postgres`

`docker pull dpage/pgadmin4`
==pgAdmin runs  on: port: 80==


`docker run -p 5555:80 --name pgadmin4 -e 'PGADMIN_DEFAULT_EMAIL=js100code@gmail.com' -e 'PGADMIN_DEFAULT_PASSWORD=secret' -d dpage/pgadmin4 `

> You cannot hit the Postgres database directly from the browser  because it's [[TCP]]

---
PGADMIN4
log: js100CODE@gmail.com
haslo: secret
potem połączenie z bazą na adresie IP mojego kontenera  "IPAddress": "172.21.0.2",
`docker inspect pg`

-----






